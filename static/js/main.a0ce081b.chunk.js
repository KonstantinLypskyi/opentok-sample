(this["webpackJsonpopen-took-sample-2"]=this["webpackJsonpopen-took-sample-2"]||[]).push([[0],{21:function(e,t,n){e.exports=n(43)},26:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(16),c=n.n(i),o=(n(26),n(45)),s=n(6),l=n.n(s),u=n(17),p=n(19),h=n(4),m=n(2),d=n.n(m),b=n(20),f=Object(b.a)(),g=function(e){var t=e.path,n=e.state,r=e.query,a=e.replacePrevHistory,i=r&&d.a.stringify(r),c={pathname:t,state:Object(h.a)({isRedirectedFromApp:!0},n),search:"?".concat(i||"")};return a?f.replace(c):f.push(c)},v=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),n=t[0],i=(t[1],function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://opentok-sample12.herokuapp.com/",e.next=3,fetch("https://opentok-sample12.herokuapp.com//session");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,g({path:"/meeting",query:n}),window.location.reload(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return n?a.a.createElement("div",null,"Loading ..."):a.a.createElement("button",{onClick:i},"Start a meeting")},E=n(1),w=n.n(E),k=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return window.location.search?Object(h.a)({},e,{},d.a.parse(window.location.search,{ignoreQueryPrefix:!0})):e}(),t=e.apiKey,n=e.sessionId,i=e.token,c=Object(r.useRef)(null),o=function(e){e&&alert(e.message)};return Object(r.useEffect)((function(){!function(){c.current=w.a.initSession(t,n);var e=w.a.initPublisher("original-publisher",{insertMode:"replace",width:"100%",height:"100%"},o);c.current.connect(i,(function(t){t?o(t):c.current.publish(e,o)})),c.current.on("streamCreated",(function(e){c.current.subscribe(e.stream,"original-subscriber",{insertMode:"replace",width:"100%",height:"100%"},o)}))}()}),[]),a.a.createElement("div",{className:"app"},a.a.createElement("div",{className:"wrapper"},a.a.createElement("div",{className:"original-publisher"},a.a.createElement("div",{id:"original-publisher"})),a.a.createElement("div",{className:"original-subscriber"},a.a.createElement("div",{id:"original-subscriber"})),a.a.createElement("button",{className:"share-button",onClick:function(){return w.a.checkScreenSharingCapability((function(e){if(e.supported&&!1!==e.extensionRegistered)if(!1===e.extensionInstalled);else{console.log(w.a.initPublisher);var t=w.a.initPublisher("original-publisher",{videoSource:"screen",insertMode:"replace",width:"100%",height:"100%"},(function(e){e||c.current.publish(t,(function(e){}))}))}else;}))}},"Share")))},y=function(){return a.a.createElement(o.b,{history:f},a.a.createElement(o.c,null,a.a.createElement(o.a,{path:"/meeting"},a.a.createElement(k,null)),a.a.createElement(o.a,{path:"/"},a.a.createElement(v,null))))};c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(y,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.a0ce081b.chunk.js.map