(this["webpackJsonpopen-took-sample-2"]=this["webpackJsonpopen-took-sample-2"]||[]).push([[0],{13:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(6),s=n.n(i),c=(n(13),n(2)),o=n.n(c),u=n(7),l=n(3),p=n(1),h=n.n(p),b=function(e){var t=e.apiKey,n=e.sessionId,i=e.token,s=Object(r.useRef)(null),c=function(e){e&&alert(e.message)};return Object(r.useEffect)((function(){!function(){s.current=h.a.initSession(t,n);var e=h.a.initPublisher("original-publisher",{insertMode:"replace",width:"100%",height:"100%"},c);s.current.connect(i,(function(t){t?c(t):s.current.publish(e,c)})),s.current.on("streamCreated",(function(e){s.current.subscribe(e.stream,"original-subscriber",{insertMode:"replace",width:"100%",height:"100%"},c)}))}()}),[]),a.a.createElement("div",{className:"app"},a.a.createElement("div",{className:"wrapper"},a.a.createElement("div",{className:"original-publisher"},a.a.createElement("div",{id:"original-publisher"})),a.a.createElement("div",{className:"original-subscriber"},a.a.createElement("div",{id:"original-subscriber"})),a.a.createElement("button",{className:"share-button",onClick:function(){return h.a.checkScreenSharingCapability((function(e){if(e.supported&&!1!==e.extensionRegistered)if(!1===e.extensionInstalled);else{console.log(h.a.initPublisher);var t=h.a.initPublisher("original-publisher",{videoSource:"screen",insertMode:"replace",width:"100%",height:"100%"},(function(e){e||s.current.publish(t,(function(e){}))}))}else;}))}},"Share")))},m=function(){var e=Object(r.useState)(null),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(r.useState)(!1),c=Object(l.a)(s,2),p=c[0],h=c[1],m=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://opentok-sample12.herokuapp.com/",h(!0),e.next=4,fetch("https://opentok-sample12.herokuapp.com//session");case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,i(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?a.a.createElement(b,n):p?a.a.createElement("div",null,"Loading ..."):a.a.createElement("button",{onClick:m},"Start a meeting")};s.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(m,null)),document.getElementById("root"))},8:function(e,t,n){e.exports=n(25)}},[[8,1,2]]]);
//# sourceMappingURL=main.102a768b.chunk.js.map